{"version":3,"sources":["components/Header.js","UserContext.js","hooks/useSendToServer.js","components/SearchBar.js","components/BottomToast.js","components/App.js","index.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","direction","title","Header","classes","AppBar","position","className","Toolbar","Typography","variant","UserContext","createContext","UserProvider","children","useState","website","setWebsite","openToast","setOpenToast","statusToast","setStatusToast","messageToast","setMessageToast","progress","setProgress","Provider","value","sio","io","useSendToServer","url","useContext","useEffect","on","console","log","data","parseInt","emit","SearchBar","sendToServer","error","setError","noValidate","autoComplete","onSubmit","event","preventDefault","TextField","onChange","website_address","target","length","validateWebsiteValue","helperText","id","label","fullWidth","Alert","props","elevation","BottomToast","color","message","Snackbar","open","onClose","severity","margin","spacing","content","marginTop","float","center","left","top","root_disabled","pointerEvents","opacity","App","CircularProgress","Button","onClick","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.dcc987c2.chunk.js","sourcesContent":["import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    direction: 'rtl'\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nconst Header = () => {\n  const classes = useStyles();\n\n  return (\n    <AppBar position=\"static\" className={classes.root}>\n      <Toolbar>\n        <Typography variant=\"h6\" className={classes.title}>\n          מערכת לבדיקת האתר שלך!\n        </Typography>\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nexport default Header;","import React, {createContext, useState} from \"react\";\n\nconst UserContext = createContext(\"default website\");\n\nconst UserProvider = ({children}) => {\n  const [website, setWebsite] = useState(\"None\");\n  const [openToast, setOpenToast] = useState(false);\n  const [statusToast, setStatusToast] = useState(\"info\");\n  const [messageToast, setMessageToast] = useState(false);\n  const [progress, setProgress] = useState(0);\n\n  return (\n    <UserContext.Provider\n      value={{\n        website,\n        setWebsite,\n        openToast,\n        setOpenToast,\n        statusToast,\n        setStatusToast,\n        messageToast,\n        setMessageToast,\n        progress,\n        setProgress\n      }}\n    >\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport {UserContext, UserProvider};","import React, {useState, useEffect, useContext} from \"react\";\nimport axios from \"axios\";\nimport {UserContext} from \"../UserContext\";\nimport io from \"socket.io-client\";\n\n// export const sio = io('http://127.0.0.1:8000');\nexport const sio = io('https://consumer-checker.herokuapp.com');\n\n\n\nconst useSendToServer = (url) => {\n\n  const {setOpenToast, setStatusToast, setMessageToast, setProgress} = useContext(UserContext);\n\n  useEffect(() => {\n      sio.on('connect', () => {\n        console.log('connected')\n      });\n\n      sio.on('disconnect', () => {\n        console.log('disconnected')\n      });\n\n      sio.on('status_update', (data) => {\n        console.log(data)\n\n        setProgress(parseInt(data))\n\n        if (data === 100) {\n          setMessageToast('סריקה הסתיימה בהצלחה');\n          setStatusToast('success');\n        }\n\n      });\n    }, []\n  )\n\n  const sendToServer = (url) => {\n    setOpenToast(true)\n    setMessageToast(\"סריקה התחילה\");\n    setStatusToast('info')\n\n    sio.emit('start_checking', url)\n\n    // axios.post('http://127.0.0.1:5000/validate_web', {\n    //   website_url: url\n    // }).then((response) => {\n    //   console.log(response)\n    //\n    //   if (response.status === 200) {\n    //     setMessageToast(response.data);\n    //     setStatusToast(\"success\");\n    //   }\n    // }, (error) => {\n    //   console.log(error);\n    //   setMessageToast(\"error\");\n    //   setStatusToast('error');\n    // })\n  };\n\n  return [sendToServer];\n\n}\n\nexport default useSendToServer;\n","import React, {useState, useContext} from \"react\";\nimport TextField from '@material-ui/core/TextField';\nimport {UserContext} from '../UserContext';\nimport useSendToServer from \"../hooks/useSendToServer\";\n\nconst MAX_LENGTH_WEBSITE_URL = 500;\n\nconst SearchBar = () => {\n  const website = useContext(UserContext);\n  const [sendToServer] = useSendToServer()\n\n  const [error, setError] = useState(\"\");\n\n  return (\n    <form noValidate autoComplete=\"off\" onSubmit={onSubmit}>\n      <TextField onChange={(event) => validateWebsiteValue(event)}\n                 error={error !== \"\"}\n                 helperText={error !== \"\" ? error : ' '}\n                 id=\"outlined-basic\" label=\"Enter website address\"\n                 fullWidth\n                 variant=\"outlined\"/>\n    </form>\n  );\n\n  function onSubmit(event) {\n    event.preventDefault()\n\n    sendToServer(website.website)\n  };\n\n\n  function validateWebsiteValue(event) {\n    const website_address = event.target.value;\n\n    if (website_address.length > MAX_LENGTH_WEBSITE_URL) {\n      setError(\"קישור ארוך מידי\")\n      return\n    } else {\n      setError(\"\")\n    }\n\n    website.setWebsite(website_address)\n  }\n}\n\nexport default SearchBar;","import React, {useContext} from \"react\";\nimport MuiAlert from '@material-ui/lab/Alert';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport {UserContext} from \"../UserContext\";\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst BottomToast = ({color, message}) => {\n\n  const {openToast, setOpenToast, statusToast, messageToast, setStatusToast, setMessageToast} = useContext(UserContext);\n\n  return (\n    <Snackbar open={openToast} onClose={handleClose}>\n      <Alert severity={statusToast}>\n        {messageToast}\n      </Alert>\n    </Snackbar>\n  );\n\n  function handleClose() {\n    setOpenToast(false)\n    // setStatusToast('info')\n    // setMessageToast('')\n  }\n}\n\nexport default BottomToast;","import React, {useState, useContext, useEffect} from \"react\";\nimport Header from \"./Header\";\nimport SearchBar from \"./SearchBar\";\nimport BottomToast from './BottomToast';\nimport useSendToServer from '../hooks/useSendToServer';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport {UserContext} from '../UserContext';\nimport {makeStyles} from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: theme.spacing(5),\n    flexGrow: 1\n  },\n\n  content: {\n    marginTop: theme.spacing(3),\n    float: 'left'\n  },\n\n  center: {\n    position: 'absolute',\n    left: '50%',\n    top: '50%',\n  },\n\n  root_disabled: {\n    margin: theme.spacing(5),\n    flexGrow: 1,\n    pointerEvents: \"none\",\n    opacity: \"0.7\"\n  }\n}));\n\nconst App = () => {\n  const {website, openToast, statusToast, progress, setProgress} = useContext(UserContext);\n  const [sendToServer] = useSendToServer()\n\n  const classes = useStyles();\n\n  const getMainBody = () => {\n    return (\n      // <div className={!openToast || statusToast === 'error' || statusToast === 'success' ? classes.root : classes.root_disabled}>\n      <div className= {classes.root}>\n        <SearchBar/>\n        <Button onClick={() => sendToServer(website)} variant=\"contained\" color=\"primary\"\n                className={classes.content}>\n          תבדקו לי\n        </Button>\n      </div>\n    );\n  };\n\n\n  return (\n    <div>\n      <div>\n        <Header/>\n\n        <div>\n          {!openToast || statusToast === 'error' || statusToast === 'success'\n            ?\n            getMainBody()\n            :\n            <CircularProgress className={classes.center} variant=\"determinate\" value={progress}/>\n          }\n        </div>\n\n        <BottomToast/>\n\n      </div>\n\n\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport {UserProvider} from \"./UserContext\"\n\nReactDOM.render(\n  <UserProvider>\n    <App/>\n  </UserProvider>,\n  document.querySelector(\"#root\"));\n"],"sourceRoot":""}